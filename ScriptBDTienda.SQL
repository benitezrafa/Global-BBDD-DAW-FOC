
-- Tabla TRABAJADOR

CREATE TABLE  TRABAJADOR (
   DNI  Number NOT NULL,
   NOMBRE  Varchar2(80 ) NOT NULL,
   DIRECCION  Varchar2(120 ),
   TELEFONO  Varchar2(20 ),
   ID_TIENDA  Number
);

ALTER TABLE  TRABAJADOR  ADD CONSTRAINT  PK_TRABAJADOR  PRIMARY KEY (DNI);

-- Tabla TIENDA

CREATE TABLE  TIENDA (
   ID_TIENDA  Number NOT NULL,
   DIRECCION  Varchar2(120 )
);

ALTER TABLE  TIENDA  ADD CONSTRAINT  PK_TIENDA  PRIMARY KEY (ID_TIENDA);

-- Tabla CLIENTE

CREATE TABLE  CLIENTE (
   NUMERO  Number NOT NULL,
   NOMBRE  Varchar2(80 ) NOT NULL,
   APELLIDOS  Varchar2(100 ) NOT NULL,
   FECHA_NACIMIENTO  Date
);

ALTER TABLE  CLIENTE  ADD CONSTRAINT  PK_CLIENTE  PRIMARY KEY (NUMERO);

-- Tabla CLIENTE_TIENDA

CREATE TABLE  CLIENTE_TIENDA (
   ID_TIENDA  Number,
   NUMERO  Number
);

-- Creación de foreign keys ------------------------------------------------- 

ALTER TABLE  TRABAJADOR  ADD CONSTRAINT  TRABAJADOR_TIENDA_FK  FOREIGN KEY (ID_TIENDA) REFERENCES  TIENDA  (ID_TIENDA);
ALTER TABLE  CLIENTE_TIENDA  ADD CONSTRAINT  CLIENTE_TIENDA_CLIENTE_FK  FOREIGN KEY (NUMERO) REFERENCES  CLIENTE  (NUMERO);
ALTER TABLE  CLIENTE_TIENDA  ADD CONSTRAINT  CLIENTE_TIENDA_TIENDA_FK  FOREIGN KEY (ID_TIENDA) REFERENCES  TIENDA  (ID_TIENDA);





